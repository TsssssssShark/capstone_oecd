{"title":"survey_data_exploration","markdown":{"yaml":{"title":"survey_data_exploration","format":"html","execute":{"echo":false,"warning":false,"message":false,"cache":false}},"headingText":"Script info","containsRefs":false,"markdown":"\n\n\n**Project:** Capstone OECD\\\n**Date:** 2025-10-05 **Author:** Yichu Li\\\n**Purpose:** Explore the survey data\n\n## 2023 OECD Survey on Public Policy Evaluation Results\n\n```{r}\n#| label: setup-packages\n#| include: false\n\n# Check and install required packages\nrequired_packages <- c(\n  'tidyverse',\n  'readxl',\n  'kableExtra'\n)\n\nmissing_packages <- required_packages[\n  !required_packages %in% rownames(installed.packages())\n]\n\nif (length(missing_packages) > 0) {\n  cat(\n    \"Installing missing packages:\",\n    paste(missing_packages, collapse = \", \"),\n    \"\\n\"\n  )\n  install.packages(missing_packages)\n}\n\nlapply(required_packages, library, character.only = TRUE)\n\nmessage('All packages loaded successfully!')\n```\n\n```{r}\n#| label: load-data\n\ndata <- read_excel(\"survey result.xlsx\", \n                   sheet = 1,\n                   skip = 3\n                  )\n\n```\n\n```{r}\n#| label: data-reformat\n\n# Re-format to correct columns and rows\ndata <- data %>%\n  select(-2) %>%\n  slice(-1) %>%\n  rename(measure = 1) %>%\n  select(-`...34`)\n\n# Get country column names (all columns except 'measure')\ncountry_cols <- names(data)[2:ncol(data)]\n\n# Sort questions into groups\ndata_grouped <- data %>%\n  mutate(\n    # Add row ID for reference\n    row_id = row_number(),\n    \n    # Extract question number at the beginning (e.g., \"1.\", \"2.\", \"13.\")\n    question_number = str_extract(measure, \"^[0-9]+\\\\.\"),\n    \n    # Mark rows that start a new group\n    is_group_start = !is.na(question_number),\n    \n    # Create group ID based on question numbers\n    group_id = question_number\n  )%>%\n  \n  # Fill group_id downward to assign same group_id to all sub-items\n  fill(group_id, .direction = 'down')\n\n# Add main question text to each group\ndata_grouped <- data_grouped %>%\n  group_by(group_id) %>%\n  mutate(\n    # Store the main question\n    main_question = first(measure),\n    \n    # Mark position within group\n    position_in_group = row_number(),\n    \n    # Identify if it's main or sub question\n    item_type = ifelse(position_in_group == 1, 'main', 'sub')\n  ) %>%\n  ungroup()\n\n# Pivot to long format\ndata_long <- data_grouped %>%\n  pivot_longer(\n    cols = all_of(country_cols),\n    names_to = \"country\",\n    values_to = \"response\"\n  )\n\nmessage('Data re-formatted!')\n```\n\n## Main Questions:\n\n```{r}\n#| label: display-main-questions\n\ndata_long %>%\n  distinct(group_id, main_question) %>%\n  mutate(\n    Question = str_remove(main_question, \"^[0-9]+\\\\.\\\\s*\")\n  ) %>%\n  arrange(as.numeric(str_extract(group_id, \"[0-9]+\"))) %>%\n  select(`ID` = group_id, Question) %>%\n  kable(caption = \"Main Survey Questions\") %>%\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"), full_width = FALSE)\n```\n\n### Which ones are important for our purposes?\n\n1.  Does the government have formal definition(s) of policy evaluation ?\n\n<!-- -->\n\n25. Is there a national government strategy to promote the availability and accessibility of data for evaluation and evidence-informed policymaking?\n\n<!-- -->\n\n30. How are public policy evaluation results used?\n\n<!-- -->\n\n32. Are evaluation results formally discussed at the Council of Ministers or other high-level executive bodies?\n\n\\*34. Is there a central web portal where government evaluations are published?\n\n35. Are evaluation results published in tailored and accessible formats (e.g. policy briefs, executive summaries, etc.) to promote access and use?\n36. Do(es) evaluation champion(s) make use of evidence synthesis methodologies to aggregate evaluation findings and assess them in a systematic manner?\n\n## 1. What have countries listed as formal definition?\n\n```{r}\n#| label: analyse-question-1\n\n# Find countries answered 'Yes' in Question 1.\nquestion1_yes <- data_long %>%\n  filter(group_id == '1.', item_type == 'main') %>%\n  filter(str_detect(tolower(response), 'yes')) %>%\n  pull(country)\n\n# Get Question 1.1 responses from these countries\nquestion_1_1_responses <- data_long %>%\n  filter(\n    group_id == '1.',\n    str_detect(measure, '1.1 Please share the definition'),\n    country %in% question1_yes\n  ) %>%\n  select(country, measure, response)\n\n# Display as table\nquestion_1_1_responses %>%\n  mutate(\n    # Clean up the measure text to identify it as 1.1\n    Question = str_sub(str_trim(measure), 1, 50)\n  ) %>%\n  select(Country = country, Response = response) %>%\n  kable(caption = \"Question 1.1 Responses from Countries that answered 'Yes' to Question 1\") %>%\n  kable_styling(\n    bootstrap_options = c(\"striped\", \"hover\"),\n    full_width = FALSE\n  ) %>%\n  column_spec(2, width = \"30em\")\n  \n```\n\n### Following is what Claude summarises:\n\nBased on the commonalities across these 19 countries, policy evaluation is: The systematic and objective assessment of government policies, programs, or activities—examining their design, implementation, and results—to determine their effectiveness, efficiency, and impact in achieving intended objectives, with the purpose of informing decision-making, ensuring accountability, and improving public management.\n\nCore elements present across definitions:\n\n-   **Systematic and objective** methodology\n\n-   Assessment of **effectiveness** (achieving objectives) and efficiency (resource use)\n\n-   Focus on **results/outcomes/impacts**\n\n-   Purpose of **decision-making** and **improvement**\n\n-   Evidence-based approach for **accountability**\n\n## 34. Which countries have web portals\n\n```{r}\n#| label: analyse-question-34\n\n# Sort by response categories\nresponses_34 <- data_long %>%\n  filter(group_id == '34.') %>%\n  select(country, response) %>%\n  mutate(\n    response_categories = case_when(\n      is.na(response) ~ 'No Response',\n      str_detect(response,'Yes') ~ 'Yes',\n      str_detect(response, 'No') ~ 'No',\n      str_detect(response, 'under development') ~ 'Under Development',\n      TRUE ~ 'Other'\n    )\n  )\n\n# Display table\nresponses_34 %>%\n  arrange(response_categories, country) %>%\n  select(Country = country, Category = response_categories) %>%\n  kable(caption = \"Question 34: Countries by Response Category\") %>%\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\", \"condensed\"), full_width = FALSE)\n```\n","srcMarkdownNoYaml":"\n\n## Script info\n\n**Project:** Capstone OECD\\\n**Date:** 2025-10-05 **Author:** Yichu Li\\\n**Purpose:** Explore the survey data\n\n## 2023 OECD Survey on Public Policy Evaluation Results\n\n```{r}\n#| label: setup-packages\n#| include: false\n\n# Check and install required packages\nrequired_packages <- c(\n  'tidyverse',\n  'readxl',\n  'kableExtra'\n)\n\nmissing_packages <- required_packages[\n  !required_packages %in% rownames(installed.packages())\n]\n\nif (length(missing_packages) > 0) {\n  cat(\n    \"Installing missing packages:\",\n    paste(missing_packages, collapse = \", \"),\n    \"\\n\"\n  )\n  install.packages(missing_packages)\n}\n\nlapply(required_packages, library, character.only = TRUE)\n\nmessage('All packages loaded successfully!')\n```\n\n```{r}\n#| label: load-data\n\ndata <- read_excel(\"survey result.xlsx\", \n                   sheet = 1,\n                   skip = 3\n                  )\n\n```\n\n```{r}\n#| label: data-reformat\n\n# Re-format to correct columns and rows\ndata <- data %>%\n  select(-2) %>%\n  slice(-1) %>%\n  rename(measure = 1) %>%\n  select(-`...34`)\n\n# Get country column names (all columns except 'measure')\ncountry_cols <- names(data)[2:ncol(data)]\n\n# Sort questions into groups\ndata_grouped <- data %>%\n  mutate(\n    # Add row ID for reference\n    row_id = row_number(),\n    \n    # Extract question number at the beginning (e.g., \"1.\", \"2.\", \"13.\")\n    question_number = str_extract(measure, \"^[0-9]+\\\\.\"),\n    \n    # Mark rows that start a new group\n    is_group_start = !is.na(question_number),\n    \n    # Create group ID based on question numbers\n    group_id = question_number\n  )%>%\n  \n  # Fill group_id downward to assign same group_id to all sub-items\n  fill(group_id, .direction = 'down')\n\n# Add main question text to each group\ndata_grouped <- data_grouped %>%\n  group_by(group_id) %>%\n  mutate(\n    # Store the main question\n    main_question = first(measure),\n    \n    # Mark position within group\n    position_in_group = row_number(),\n    \n    # Identify if it's main or sub question\n    item_type = ifelse(position_in_group == 1, 'main', 'sub')\n  ) %>%\n  ungroup()\n\n# Pivot to long format\ndata_long <- data_grouped %>%\n  pivot_longer(\n    cols = all_of(country_cols),\n    names_to = \"country\",\n    values_to = \"response\"\n  )\n\nmessage('Data re-formatted!')\n```\n\n## Main Questions:\n\n```{r}\n#| label: display-main-questions\n\ndata_long %>%\n  distinct(group_id, main_question) %>%\n  mutate(\n    Question = str_remove(main_question, \"^[0-9]+\\\\.\\\\s*\")\n  ) %>%\n  arrange(as.numeric(str_extract(group_id, \"[0-9]+\"))) %>%\n  select(`ID` = group_id, Question) %>%\n  kable(caption = \"Main Survey Questions\") %>%\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"), full_width = FALSE)\n```\n\n### Which ones are important for our purposes?\n\n1.  Does the government have formal definition(s) of policy evaluation ?\n\n<!-- -->\n\n25. Is there a national government strategy to promote the availability and accessibility of data for evaluation and evidence-informed policymaking?\n\n<!-- -->\n\n30. How are public policy evaluation results used?\n\n<!-- -->\n\n32. Are evaluation results formally discussed at the Council of Ministers or other high-level executive bodies?\n\n\\*34. Is there a central web portal where government evaluations are published?\n\n35. Are evaluation results published in tailored and accessible formats (e.g. policy briefs, executive summaries, etc.) to promote access and use?\n36. Do(es) evaluation champion(s) make use of evidence synthesis methodologies to aggregate evaluation findings and assess them in a systematic manner?\n\n## 1. What have countries listed as formal definition?\n\n```{r}\n#| label: analyse-question-1\n\n# Find countries answered 'Yes' in Question 1.\nquestion1_yes <- data_long %>%\n  filter(group_id == '1.', item_type == 'main') %>%\n  filter(str_detect(tolower(response), 'yes')) %>%\n  pull(country)\n\n# Get Question 1.1 responses from these countries\nquestion_1_1_responses <- data_long %>%\n  filter(\n    group_id == '1.',\n    str_detect(measure, '1.1 Please share the definition'),\n    country %in% question1_yes\n  ) %>%\n  select(country, measure, response)\n\n# Display as table\nquestion_1_1_responses %>%\n  mutate(\n    # Clean up the measure text to identify it as 1.1\n    Question = str_sub(str_trim(measure), 1, 50)\n  ) %>%\n  select(Country = country, Response = response) %>%\n  kable(caption = \"Question 1.1 Responses from Countries that answered 'Yes' to Question 1\") %>%\n  kable_styling(\n    bootstrap_options = c(\"striped\", \"hover\"),\n    full_width = FALSE\n  ) %>%\n  column_spec(2, width = \"30em\")\n  \n```\n\n### Following is what Claude summarises:\n\nBased on the commonalities across these 19 countries, policy evaluation is: The systematic and objective assessment of government policies, programs, or activities—examining their design, implementation, and results—to determine their effectiveness, efficiency, and impact in achieving intended objectives, with the purpose of informing decision-making, ensuring accountability, and improving public management.\n\nCore elements present across definitions:\n\n-   **Systematic and objective** methodology\n\n-   Assessment of **effectiveness** (achieving objectives) and efficiency (resource use)\n\n-   Focus on **results/outcomes/impacts**\n\n-   Purpose of **decision-making** and **improvement**\n\n-   Evidence-based approach for **accountability**\n\n## 34. Which countries have web portals\n\n```{r}\n#| label: analyse-question-34\n\n# Sort by response categories\nresponses_34 <- data_long %>%\n  filter(group_id == '34.') %>%\n  select(country, response) %>%\n  mutate(\n    response_categories = case_when(\n      is.na(response) ~ 'No Response',\n      str_detect(response,'Yes') ~ 'Yes',\n      str_detect(response, 'No') ~ 'No',\n      str_detect(response, 'under development') ~ 'Under Development',\n      TRUE ~ 'Other'\n    )\n  )\n\n# Display table\nresponses_34 %>%\n  arrange(response_categories, country) %>%\n  select(Country = country, Category = response_categories) %>%\n  kable(caption = \"Question 34: Countries by Response Category\") %>%\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\", \"condensed\"), full_width = FALSE)\n```\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":false,"freeze":false,"echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"message":false,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"survey_data_exploration.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.32","editor":"visual","title":"survey_data_exploration"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":[]}